<div class="container"> 
<style>dt { text-align: right !important } dd { text-align: left !important }</style>
<h1>Add chemical</h1>
  <form action="/api/container" method="POST">
    <dl class="row mt-5">
        <dt class="col-md-2">CAS:</dt>
        <dd class="col-md-2"><input class="form-control" id="cas" name="cas" aria-describedby="cas"></dd>
        <dt class="col-md-2">Name:</dt>
        <dd class="col-md-6 text-truncate">
            <div class="input-group">
                <input type="text" class="form-control w-25" id="prefix" name="prefix" aria-describedby="prefix" placeholder="Prefix">
                <input type="text" class="form-control w-75" id="name" name="name" aria-describedby="name" placeholder="Name">
            </div>
        </dd>
        <dt class="col-md-2">Barcode:</dt>
        <dd class="col-md-2"><input class="form-control" id="barcode" name="barcode" aria-describedby="barcode"></dd>
        <dt class="col-md-2">Location: </dt>
        <dd class="col-md-6 text-truncate"><input class="form-control" id="location" name="location" list="location_list" aria-describedby="location"><datalist id="location_list"></datalist></dd>
        <hr class="w-100"/>

        <dt class="col-md-2">Supplier:</dt>
        <dd class="col-md-4"><input class="form-control" id="supplier" name="supplier" aria-describedby="supplier"></dd>
        <dt class="col-md-2">Product number:</dt>
        <dd class="col-md-4"><input class="form-control" id="product_number" name="product_number" aria-describedby="product_number"></dd>
        <dt class="col-md-2">Lot number:</dt>
        <dd class="col-md-4"><input class="form-control" id="lot_number" name="lot_number" aria-describedby="lot_number"></dd>
        <dt class="col-md-2">Quantity:</dt>
        <dd class="col-md-4"><input class="form-control" id="quantity" name="quantity" aria-describedby="quantity"></dd>
        <dt class="col-md-2">Owner:</dt>
        <dd class="col-md-4">
            <select class="form-control" id="owner_id" name="owner_id">      
                <% Colin::Models::User.all.each do |user| %>
                <option value="<%= user.id %>"><%= user.name %></option>
                <% end %>  
            </select>
        </dd>
        <dt class="col-md-2">Last modified by:</dt>
        <dd class="col-md-4"><input class="form-control" id="user" name="user" aria-describedby="user" value="<%= current_user.name%>" readonly></dd>
        <hr class="w-100"/>

        <dt class="col-md-2">InChI:</dt>
        <dd class="col-md-4"><input class="form-control" id="inchi" name="inchi" aria-describedby="inchi"></dd>
        <dt class="col-md-2">SMILES:</dt>
        <dd class="col-md-4"><input class="form-control" id="smiles" name="smiles" aria-describedby="smiles"></dd>
        <dt class="col-md-2">PubChem ID:</dt>
        <dd class="col-md-4"><input class="form-control" id="pubchem" name="pubchem" aria-describedby="pubchem"></dd>
        <dt class="col-md-2">Density:</dt>
        <dd class="col-md-4">
            <div class="input-group">
                <input type="text" class="form-control w-75" name="density">
                <div class="input-group-append">
                    <div class="input-group-text"> g/mL</div>
                </div>
            </div>
        </dd>
        <dt class="col-md-2">Melting point:</dt>
        <dd class="col-md-4">
            <div class="input-group">
                <input type="text" class="form-control w-75" name="melting_point">
                <div class="input-group-append">
                    <div class="input-group-text"> &#8451;</div>
                </div>
            </div>
        </dd>
        <dt class="col-md-2">Boiling point:</dt>
        <dd class="col-md-4">
            <div class="input-group">
                <input type="text" class="form-control w-75" name="boiling_point">
                <div class="input-group-append">
                    <div class="input-group-text"> &#8451;</div>
                </div>
            </div>
        </dd>
        <hr class="w-100"/>

        <dt class="col-md-2">Hazard statements:</dt>
        <dd class="col-md-10">
        <input class="form-control" id="haz_stats" name="haz_stats" aria-describedby="haz_stats">
        </dd>
        <dt class="col-md-2">Precaution statements:</dt>
        <dd class="col-md-10">
        <input class="form-control" id="prec_stats" name="prec_stats" aria-describedby="prec_stats">
        </dd>
        <hr class="w-100"/>

        <dt class="col-md-2">UN number:</dt>
        <dd class="col-md-2"><input class="form-control" id="un_number" name="un_number" aria-describedby="un_number"></dd>
        <dt class="col-md-2">UN proper shipping name:</dt>
        <dd class="col-md-6"><input class="form-control" id="un_proper_shipping_name" name="un_proper_shipping_name" aria-describedby="un_proper_shipping_name"></dd>
        <dt class="col-md-2">Transport class:</dt>
        <dd class="col-md-2"><input class="form-control" id="dg_class" name="dg_class" aria-describedby="dg_class">
        </dd>
        <dt class="col-md-2">Packing group:</dt>
        <dd class="col-md-2"><input class="form-control" id="packing_group" name="packing_group" aria-describedby="packing_group"></dd>
        <dt class="col-md-2">Schedule:</dt>
        <dd class="col-md-2"><input class="form-control" id="schedule" name="schedule" aria-describedby="schedule"></dd>
    </dl>
    <input class="btn btn-primary btn-lg btn-block" type="submit" value="Save">
    <a class="btn btn-secondary btn-lg btn-block" href="">Cancel</a>
    <p id="location_list"></p>
  </form>

    <script>
        $("#location").keyup(function() {
            $.ajax({
                url: window.location.origin + "/api/location/search",
                data: {query: $("#location").val()}
            }).then(function(data) {
                $('#location_list').empty()
                for (i = 0; i < data.length; i++) {
                    if (data[i].parent) {$('#location_list').append("<option>" + data[i].parent.name + " / " + data[i].name + "</option>");}
                    else {$('#location_list').append("<option>" + data[i].name + "</option>");}
                }   
            });
        });
    </script>


</div>